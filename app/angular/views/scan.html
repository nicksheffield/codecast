<div ng-include="'angular/views/header.html'"></div>

<div ratio="1">
	<div class="page-top" layout="row" align="center" justify="between">
		<h1>Broadcasters</h1>
		
		<button class="btn btn-normal btn-icon btn-scan" ng-class="{'btn-scanning': scanning}" ng-click="scan()">
			<span class="text" ng-show="scanning"><i class="fa fa-fw fa-refresh fa-spin"></i> Scanning</span>
			<span class="text" ng-show="!scanning"><i class="fa fa-fw fa-feed"></i> Scan</span>
		</button>
	</div>
	
	<div class="page-content">
		<ul class="broadcasters">
			<li ng-repeat="caster in broadcasters | filter: {meta: {broadcasting: true}} as filtered" class="broadcaster">
				<a href="#/view/{{ caster.ip }}/{{ caster.port }}" layout="row" align="center">
					<div layout="col" ratio="1">
						<div class="username">
							{{ caster.meta.username }}
						</div>
						<div class="folder">
							{{ caster.meta.currentFolder.pathReadable }}
						</div>
					</div>
					<div class="ip">
						{{ caster.ip }}
					</div>
				</a>
			</li>
			
			<li ng-if="!filtered.length && !scanning">
				No broadcasters were found
			</li>
			
			<li ng-if="!filtered.length && scanning">
				Scanning...
			</li>
		</ul>
	</div>
</div>